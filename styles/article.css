.article-content {
    overflow-y: auto; /* Allow vertical scrolling */
    height: 100%;
    padding: 10px;
}

/* Styles for images within the article */
.article-image {
    max-width: 100%;
    height: auto;
    display: block;
    margin: 15px auto;
    border: 2px solid var(--border-color);
}

/* --- DESKTOP STYLES (769px and wider) --- */
@media (min-width: 769px) {
    /* Ensure the main gallery window's content area fills the available space */
    #gallery-window .content {
        padding: 0;
        max-height: none; /* Override any potential max-height from other styles */ 
        top: 0;
        left: 260px;
        right: 0;
        bottom: 0;
        max-width: 100%;
        overflow-x: hidden;
    }

    /* This rule now ONLY applies on desktop screens. */
    #nav-window {
        max-height: fit-content;
        top: 0px;
        left: 0px;
        width: 250px;
        height:fit-content;
        min-height: fit-content;
        position: absolute;
        z-index: 3;
    }
}

body {
    overflow: hidden; 
}
/* --- MOBILE STYLES (768px and narrower) --- */

/* Prevents the body from scrolling when the fullscreen menu is open */
.body-no-scroll {
    overflow: hidden;
}

@media (max-width: 768px) {

    /* Re-enable vertical scrolling on mobile so articles can be read */
    body {
        overflow-y: auto;
    }

    /* This rule applies to all windows EXCEPT our special nav pendant. */
    .window:not(.nav-pendant) {
        position: relative !important; /* Make sure it overrides the base absolute position */
        width: auto !important;
        left: 0 !important;
        top: 0 !important;
        margin: 10px;
        z-index: auto !important;
    }

    /* --- Nav Pendant Styles --- */

    /* Base style for the nav "pendant" when it's a collapsed button. */
    .window#nav-window.nav-pendant {
        position: fixed !important;
        /* These 'auto' rules are added to unset any inline top/left styles from JS */
        top: auto !important;
        left: auto !important;
        bottom: 80px !important;
        right: 20px !important;
        width: 50px;
        height: 50px;
        border-radius: 0px;
        z-index: 999 !important;
        cursor: pointer;
        display: flex;
        align-items: center;
        justify-content: center;
        background-color: var(--inv-bg-color);
        border: 2px solid var(--inv-text-color);
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.25);
    }

    /* Hide the original window components when collapsed */
    .nav-pendant:not(.expanded) .title-bar,
    .nav-pendant:not(.expanded) .content {
        display: none;
    }

    /* The '◈' symbol inside the button */
    .window#nav-window.nav-pendant::before {
        content: '◈';
        font-family: 'Symbola', sans-serif;
        font-size: 28px;
        color: var(--inv-text-color);
    }
    
    /* When expanded, hide the symbol */
    .window#nav-window.nav-pendant.expanded::before {
        display: none;
    }

    /* Style for when the button is tapped and EXPANDED. */
    .window#nav-window.nav-pendant.expanded {
        /* Use inset properties with a margin for a cleaner overlay effect */
        top: 10px;
        left: 10px;
        right: 10px;
        bottom: 10px;
        /* Remove fixed width/height to respect the inset properties */
        width: auto;
        height: auto;
        margin: 0;
        border-radius: 0px;
        z-index: 1001 !important;
        cursor: default;
        display: flex;
        flex-direction: column;
        background-color: var(--win-bg-color);
        border: 2px solid var(--border-color);
        box-sizing: border-box; /* Ensure padding and border are included in the element's total width and height */
        color: var(--text-color); /* Explicitly set text color for legibility */
    }

    /* When expanded, show the original window components again */
    .nav-pendant.expanded .title-bar {
        display: flex;
        height: auto;
        width: 100%;
        cursor: default;
    }
    
    .nav-pendant.expanded .content {
        display: block;
        flex-grow: 1; /* Allow content to fill the remaining space */
        overflow-y: auto;
        padding: 1rem;
    }
}
